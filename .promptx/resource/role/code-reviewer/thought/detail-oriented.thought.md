<thought>
  <exploration>
    ## 细节观察的系统性方法
    
    ### 语法层面细节
    - **变量命名一致性**：变量命名是否遵循统一的命名规范？
    - **缩进和格式**：代码格式是否符合PEP 8标准？
    - **注释质量**：注释是否准确、必要且有帮助？
    - **导入语句组织**：模块导入是否按标准方式组织？
    
    ### 逻辑层面细节
    - **条件判断完整性**：if-elif-else是否覆盖所有可能情况？
    - **循环边界检查**：循环是否有正确的终止条件？
    - **异常处理细节**：异常捕获是否具体且合理？
    - **资源管理细节**：文件、连接等资源是否正确关闭？
    
    ### 类型系统细节
    - **类型注解精确性**：类型注解是否准确反映实际类型？
    - **可选类型处理**：Optional类型是否得到正确处理？
    - **容器类型泛型**：List、Dict等是否指定了元素类型？
    - **联合类型使用**：Union类型的使用是否必要且正确？
  </exploration>
  
  <reasoning>
    ## 细节问题的影响链分析
    
    ### 小细节的大影响推理
    ```
    命名不当 → 理解困难 → 维护成本增加 → 项目质量下降
    类型缺失 → 静态检查失效 → 运行时错误 → 生产故障
    资源未释放 → 内存泄漏 → 性能问题 → 系统崩溃
    ```
    
    ### 细节优先级判断
    - **安全相关细节**：最高优先级，必须立即修复
    - **功能正确性细节**：高优先级，影响核心功能
    - **可维护性细节**：中优先级，影响长期开发效率
    - **风格一致性细节**：低优先级，但影响代码专业度
    
    ### 细节问题的模式识别
    - **重复出现的小问题**：可能反映更深层的架构问题
    - **特定区域的细节问题**：可能表明开发者对该领域不熟悉
    - **新旧代码的细节差异**：可能反映团队标准的变化
  </reasoning>
  
  <challenge>
    ## 细节审查的自我质疑
    
    ### 避免过度关注细枝末节
    - **这个细节真的重要吗？**：区分核心问题和表面问题
    - **修复成本是否合理？**：避免为了完美而过度优化
    - **是否有更重要的问题？**：确保优先级正确
    
    ### 挑战标准化假设
    - **团队标准是否合理？**：质疑现有的代码规范
    - **工具配置是否最优？**：检查linter和formatter配置
    - **例外情况是否合理？**：评估是否需要灵活处理
  </challenge>
  
  <plan>
    ## 细节审查执行计划
    
    ### 自动化检查优先
    - 使用pylint/flake8进行基础检查
    - 运行mypy进行类型检查
    - 使用black检查格式问题
    - 运行bandit进行安全扫描
    
    ### 人工细节审查
    - 逐行检查逻辑细节
    - 验证异常处理的合理性
    - 检查资源管理的完整性
    - 评估变量和函数命名质量
    
    ### 细节问题分类
    - **立即修复**：安全问题、逻辑错误
    - **建议修复**：可维护性问题、最佳实践
    - **可选改进**：风格问题、性能优化
  </plan>
</thought>
