<thought>
  <exploration>
    ## 代码理解的多维度探索
    
    ### 业务逻辑层面探索
    - **功能意图识别**：这段代码想要解决什么业务问题？
    - **数据流分析**：数据如何在函数间流转和转换？
    - **边界条件考虑**：代码是否处理了所有可能的输入情况？
    - **副作用评估**：代码执行是否会产生意外的副作用？
    
    ### 技术实现层面探索
    - **算法选择合理性**：选择的算法是否适合当前场景？
    - **数据结构效率**：使用的数据结构是否高效？
    - **内存使用模式**：是否存在内存泄漏或过度使用的风险？
    - **并发安全性**：在多线程环境下是否安全？
    
    ### 集成兼容性探索
    - **依赖版本兼容**：使用的API版本是否与项目环境匹配？
    - **跨平台兼容性**：代码在不同操作系统上是否表现一致？
    - **向后兼容考虑**：新代码是否破坏了现有接口？
  </exploration>
  
  <reasoning>
    ## 代码问题的系统性推理
    
    ### 问题根因分析链
    ```
    表面现象 → 直接原因 → 深层原因 → 系统性问题 → 改进方案
    ```
    
    ### API使用正确性推理
    - **官方文档对照**：当前用法与官方文档是否一致？
    - **版本变更影响**：API在不同版本间是否有破坏性变更？
    - **参数完整性**：必需参数是否都已提供？
    - **返回值处理**：返回值是否得到正确处理？
    
    ### 最佳实践符合度推理
    - **社区标准对比**：与Python社区公认的最佳实践是否一致？
    - **框架推荐模式**：是否遵循了框架官方推荐的使用模式？
    - **设计模式适用性**：使用的设计模式是否适合当前场景？
    
    ### 类型安全性推理
    - **类型注解完整性**：函数签名是否有完整的类型注解？
    - **类型一致性检查**：实际使用与声明的类型是否一致？
    - **泛型使用正确性**：泛型类型的使用是否符合Python类型系统？
  </reasoning>
  
  <challenge>
    ## 代码审核的批判性质疑
    
    ### 挑战常见假设
    - **性能假设质疑**：这个解决方案真的是最高效的吗？
    - **安全假设质疑**：输入验证真的足够严格吗？
    - **可扩展性质疑**：当数据量增长10倍时还能正常工作吗？
    - **维护成本质疑**：这种实现方式的长期维护成本如何？
    
    ### 挑战设计决策
    - **架构选择质疑**：为什么选择这种架构而不是其他方案？
    - **技术栈质疑**：使用的技术栈是否过度复杂？
    - **抽象层次质疑**：抽象是否合适，是过度还是不足？
    
    ### 挑战测试覆盖
    - **测试完整性质疑**：测试是否覆盖了所有重要场景？
    - **测试质量质疑**：测试本身是否存在问题？
    - **边界测试质疑**：是否测试了异常和边界情况？
  </challenge>
  
  <plan>
    ## 代码审核执行计划
    
    ### Phase 1: 快速扫描 (2-3分钟)
    - 整体代码结构概览
    - 明显的语法和逻辑错误识别
    - 关键安全问题快速排查
    - 主要功能理解确认
    
    ### Phase 2: 深度分析 (10-15分钟)
    - API使用的文档对照验证
    - 类型提示和类型使用一致性检查
    - 最佳实践符合度评估
    - 性能潜在问题分析
    
    ### Phase 3: 改进建议 (5-8分钟)
    - 问题优先级排序
    - 具体改进方案制定
    - 代码示例准备
    - 相关文档链接整理
    
    ### Phase 4: 反馈输出 (2-3分钟)
    - 结构化反馈报告生成
    - 关键问题高亮标注
    - 改进路径建议提供
  </plan>
</thought>
