@startuml PeiDocker-WebGUI-Package-Diagram
!theme plain
title PeiDocker WebGUI - Package Architecture

' Define packages
package "PeiDocker WebGUI" {
    
    package "Main Application" {
        [app.py] <<Main Controller>>
        [cli_launcher.py] <<CLI Integration>>
    }
    
    package "Data Layer" {
        [models.py] <<Data Models>>
        [utils.py] <<Utilities>>
    }
    
    package "Tab Components" {
        package "Core Tabs" {
            [base.py] <<Abstract Base>>
            [project.py] <<Project Config>>
            [summary.py] <<Configuration Summary>>
        }
        
        package "Infrastructure Tabs" {
            [ssh.py] <<SSH Configuration>>
            [network.py] <<Network & Proxy>>
            [environment.py] <<Environment Variables>>
            [storage.py] <<Storage & Mounts>>
            [scripts.py] <<Custom Scripts>>
        }
    }
}

package "External Dependencies" {
    [NiceGUI Framework] <<Web UI Framework>>
    [Pydantic] <<Data Validation>>
    [OmegaConf] <<Configuration Management>>
    [PyYAML] <<YAML Processing>>
}

package "PeiDocker Core" {
    [pei.py] <<CLI Core>>
    [Templates] <<Configuration Templates>>
}

' Define relationships
[app.py] --> [models.py] : uses
[app.py] --> [base.py] : coordinates
[app.py] --> [NiceGUI Framework] : built on

[base.py] <|-- [project.py] : extends
[base.py] <|-- [ssh.py] : extends  
[base.py] <|-- [network.py] : extends
[base.py] <|-- [environment.py] : extends
[base.py] <|-- [storage.py] : extends
[base.py] <|-- [scripts.py] : extends
[base.py] <|-- [summary.py] : extends

[models.py] --> [Pydantic] : uses
[summary.py] --> [OmegaConf] : uses
[summary.py] --> [PyYAML] : uses

[cli_launcher.py] --> [app.py] : launches
[cli_launcher.py] --> [pei.py] : integrates with

[base.py] --> [utils.py] : uses
[project.py] --> [Templates] : loads from

note right of [base.py]
  Template Method Pattern
  - Common UI helpers
  - Validation interface
  - Configuration management
end note

note bottom of [app.py]
  Main Controller
  - Centralizes state management
  - Coordinates tab interactions
  - Handles configuration persistence
end note

@enduml